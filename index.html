<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vizual CF — Vizualizare Teren Carte Funciară</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Vizual CF</h1>
    <span class="header-subtitle">Vizualizare terenuri din Extras de Carte Funciară</span>
    <button class="sidebar-toggle" id="sidebar-toggle" onclick="toggleSidebar()">
      <span id="toggle-icon">&#9776;</span>
    </button>
  </header>

  <div class="container">
    <div class="sidebar">
      <div>
        <h2>Adaugă terenuri</h2>
        <p class="sidebar-description">
          Încărcați unul sau mai multe PDF-uri CF, sau introduceți manual coordonatele.
        </p>
      </div>

      <div class="upload-zone" id="upload-zone" onclick="document.getElementById('pdf-input').click()">
        <input type="file" id="pdf-input" accept=".pdf" multiple onchange="handlePdfUpload(event)">
        <div class="upload-icon">&#128196;</div>
        <div class="upload-label">Încarcă extras CF (PDF)</div>
        <div class="upload-hint">Click sau trage unul sau mai multe fișiere</div>
      </div>
      <div id="upload-status" class="upload-status"></div>

      <div class="divider">sau introdu manual</div>

      <div class="manual-section">
        <div class="input-header">
          <span></span>
          <span>X</span>
          <span>Y</span>
          <span></span>
        </div>

        <div id="points-container"></div>

        <div class="buttons">
          <button class="btn btn-secondary" onclick="addPointRow()">+ Punct</button>
        </div>

        <div id="error" class="error-msg"></div>

        <div class="buttons">
          <button class="btn btn-primary" onclick="addManualTerrain()">Adaugă pe hartă</button>
        </div>
      </div>

      <div class="divider">terenuri pe hartă</div>

      <div class="clear-all-row" id="clear-all-row">
        <button class="btn-clear-all" onclick="clearAllTerrains()">Șterge toate</button>
      </div>

      <div id="terrains-container"></div>
    </div>

    <div class="map-wrapper">
      <div id="map"></div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.9.0/proj4.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc = "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";
  </script>
  <script src="app.js"></script>
</body>
</html>
